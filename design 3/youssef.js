document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".header .mega-menu"),t=document.querySelector(".header li .other");t.addEventListener("click",function(t){t.preventDefault(),e.classList.toggle("active")}),document.addEventListener("click",function(n){e.contains(n.target)||t.contains(n.target)||e.classList.remove("active")}),e.querySelectorAll("a").forEach(t=>{t.addEventListener("click",function(){e.classList.remove("active")})});let n=document.querySelectorAll("[id]"),s=document.querySelectorAll(".main-nav li a"),l=document.querySelector(".header").offsetHeight,o=document.querySelector(".main-nav .dynamic-text");function r(){let e=window.scrollY;n.forEach(t=>{let n=t.offsetTop-l-20,r=t.offsetHeight,a=t.getAttribute("id");if(e>=n&&e<n+r){s.forEach(e=>e.removeAttribute("id"));let i=document.querySelector(`.main-nav li a[href="#${a}"]`);i&&(i.id="active",o&&(o.textContent=i.textContent))}})}window.addEventListener("scroll",r),r()});let skillsSection=document.querySelector("#our-skills"),spans=document.querySelectorAll(".prog span"),skillTexts=document.querySelectorAll(".skill h3 span"),skillsStarted=!1,nums=document.querySelectorAll(".info .unit span:first-child"),eventsSection=document.querySelector(".events"),numbersStarted=!1;function startCount(e){let t=parseInt(e.textContent),n=0,s=setInterval(()=>{e.textContent=n++,n>t&&clearInterval(s)},2e3/t)}window.addEventListener("scroll",function(){let e=window.scrollY,t=window.innerHeight;e>=skillsSection.offsetTop-t+200&&!skillsStarted&&(skillsStarted=!0,spans.forEach((e,t)=>{let n=parseInt(skillTexts[t].textContent);e.style.width=n+"%";let s=0,l=setInterval(()=>{s>=n?clearInterval(l):(s++,skillTexts[t].textContent=s+"%")},20)})),e>=eventsSection.offsetTop-t+200&&!numbersStarted&&(numbersStarted=!0,nums.forEach(e=>startCount(e)))}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".stats"),t=document.querySelectorAll(".num"),n=!1;window.addEventListener("scroll",function(){if(window.scrollY>=e.offsetTop-window.innerHeight/2&&!n){var s;t.forEach(e=>e.style.opacity="1");let l,o,r,a;o=(l=Math.max(...Array.from(s=t).map(e=>parseInt(e.dataset.goal))))/60,r=0,a=setInterval(()=>{r+=o,s.forEach(e=>{let t=parseInt(e.dataset.goal);e.textContent=Math.min(t,Math.floor(r/l*t)).toLocaleString()}),r>=l&&(clearInterval(a),s.forEach(e=>e.textContent=parseInt(e.dataset.goal).toLocaleString()))},33.333333333333336),n=!0}})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".container"),t=document.querySelectorAll(".amount"),n=!1;window.addEventListener("scroll",function(){if(window.scrollY>=e.offsetTop-window.innerHeight/2&&!n){var s;let l,o,r,a;o=(l=Math.max(...Array.from(s=t).map(e=>parseInt(e.dataset.price))))/60,r=0,a=setInterval(()=>{r+=o,s.forEach(e=>{let t=parseInt(e.dataset.price);e.textContent=`$${Math.min(t,Math.floor(r/l*t))}`}),r>=l&&(clearInterval(a),s.forEach(e=>e.textContent=`$${parseInt(e.dataset.price)}`))},23.333333333333332),n=!0}})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("videoPreview"),t=document.querySelectorAll(".list ul li"),n=document.querySelector(".fa-random");function s(n){t.forEach(e=>e.classList.remove("active")),n.classList.add("active");let s=n.getAttribute("data-image");s&&(e.src=s)}t.forEach(e=>{e.addEventListener("click",function(){s(this)})}),n.addEventListener("click",function(){let e=document.querySelector(".list ul li.active"),n=Array.from(t).filter(t=>t!==e);n.length>0&&s(n[Math.floor(Math.random()*n.length)])})}),document.getElementById("subscribeForm").addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("email"),n=document.querySelector(".spinner"),s=document.getElementById("responseMessage2"),l=document.getElementById("successIcon");if(t.checkValidity()){n.classList.remove("hidden");let o=new FormData(this);fetch(this.action,{method:this.method,body:o}).then(e=>{e.ok?(s.textContent="✅ You have successfully subscribed!",s.style.color="green",n.classList.add("hidden"),setTimeout(()=>{l.style.opacity="1"},300),setTimeout(()=>{s.textContent="",l.style.opacity="0",t.value=""},4e3)):(s.textContent="❌ An error occurred while sending!",s.style.color="red",n.classList.add("hidden"))}).catch(()=>{s.textContent="❌ Server connection error!",s.style.color="red",n.classList.add("hidden")})}else s.textContent="❌ Please enter a valid email address!",s.style.color="red"}),document.getElementById("subscribeForm").addEventListener("submit",function(e){e.preventDefault();let t=new FormData(this),n=document.getElementById("email").value,s=document.getElementById("responseMessage2");fetch("https://formsubmit.co/ajax/59c8afab51c897189738c3be64647401",{method:"POST",body:t}).then(e=>e.json()).then(e=>{e.success?(s.style.display="block",s.style.color="green",s.innerText=`You have successfully subscribed using your email : ${n}`,document.getElementById("subscribeForm").reset()):(s.style.display="block",s.style.color="red",s.innerText="Subscription failed, try again.")}).catch(e=>{s.style.display="block",s.style.color="red",s.innerText="An error occurred while registering, please try again later.",console.error("Error:",e)})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("discountForm"),t=document.getElementById("submitButton"),n=document.getElementById("formMessage");e.addEventListener("submit",function(s){s.preventDefault(),t.value="Sending...",t.disabled=!0;let l=new FormData(e);l.append("_captcha","false"),l.append("_template","table"),l.append("_subject","New Discount Request"),l.append("_cc","youssefosamatar@gmail.com"),fetch("https://formsubmit.co/ajax/youssefosamatar@gmail.com",{method:"POST",body:l}).then(e=>e.json()).then(t=>{t.success?(n.textContent="Your message has been sent successfully!",n.style.display="block",e.reset()):(n.textContent="Something went wrong. Please try again!",n.style.color="red",n.style.display="block")}).catch(e=>{n.textContent="An error occurred. Please try again!",n.style.color="red",n.style.display="block"}).finally(()=>{t.value="Send",t.disabled=!1})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("mobileInput"),t=document.getElementById("mobileError"),n=document.getElementById("submitButton"),s=/^(011|012|010)\d{8}$|^(10|11|12)\d{7}$/;function l(){n.classList.remove("enabled")}e.addEventListener("input",o=>{e.value=e.value.replace(/\D/g,"");let r=e.value.trim();s.test(r)?(t.style.display="none",e.style.color="#000",n.classList.add("enabled")):(t.textContent="Phone number must be 11 digits (011, 012, 010) or 10 digits (10, 11, 12).",t.style.display="block",e.style.color="red",l())}),e.addEventListener("blur",()=>{""===e.value.trim()&&(t.textContent="Mobile number is required.",t.style.display="block",e.style.color="red",l())})}),document.addEventListener("DOMContentLoaded",function(){document.getElementById("discountForm").addEventListener("submit",function(e){e.preventDefault();let t=this.querySelector("input[type='submit']"),n=document.querySelector(".spinner2"),s=document.getElementById("successIcon2");t.value="",t.disabled=!0,n.classList.add("active");let l=new FormData(this);l.append("_captcha","false"),l.append("_template","table"),l.append("_subject","New Discount Request"),fetch("https://formsubmit.co/ajax/youssefosamatar@gmail.com",{method:"POST",body:l}).then(e=>e.json()).then(e=>{e.success?(n.classList.remove("active"),setTimeout(()=>{s.classList.remove("hidden"),s.style.opacity="1"},300),setTimeout(()=>{s.style.opacity="0",s.classList.add("hidden"),t.value="Send",t.disabled=!1},4e3),this.reset()):(alert("❌ An error occurred while sending! Try again."),n.classList.remove("active"),t.value="Send",t.disabled=!1)}).catch(()=>{alert("❌ Unable to connect to server! Make sure you are connected to the internet."),n.classList.remove("active"),t.value="Send",t.disabled=!1})})});